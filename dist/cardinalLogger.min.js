!function(){this.cardinalLogger=function(a,b,c){var d=a,e=b,f=c;window.onerror=function(a,b,c,g,h){var i={msg:a,project:d,programming:"js",url:b,lines:c,column:g,stack:h};if(a.indexOf("Script error.")==-1){var j=null;if(window.XMLHttpRequest)j=new XMLHttpRequest;else if(window.ActiveXObject)try{j=new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(a){try{j=new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(a){}}null==j?console.log("CardinalLogger does not work in this browser"):(j.open("POST","https://app.cardinallab.com/api/logs"),j.setRequestHeader("Content-Type","application/json;charset=UTF-8"),j.setRequestHeader("X-User-Id",e),j.setRequestHeader("X-Auth-Token",f),j.send(JSON.stringify(i)))}};var g={},h=function(a){var b;if(b="undefined"!=typeof a.stack?{msg:a.message,project:d,programming:"js",url:a.fileName,lines:a.lineNumber,column:a.columnNumber,stack:a.stack}:{msg:a.message,project:d,programming:"js",url:a.fileName,lines:a.lineNumber,column:a.columnNumber},"undefined"!=typeof b.lines);else{b.lines=a.stack.split("\n")[1];var c=b.lines.split(":");2==c.length&&(b.lines=c[0],b.column=c[1].substring(0,c[1].length-1)),3==c.length&&(b.lines=c[1],b.column=c[2].substring(0,c[2].length-1)),4==c.length&&(b.lines=c[2],b.column=c[3].substring(0,c[3].length-1))}if("undefined"!=typeof b.url);else{b.url=a.stack.split("\n")[1];var c=b.url.split("http");c=c[1];var g=c.split(":")[0];c=""==g?c.split(":")[1]:g,b.url="http:"+c}var h=null;if(window.XMLHttpRequest)h=new XMLHttpRequest;else if(window.ActiveXObject)try{h=new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(a){try{h=new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(a){}}null==h?console.log("CardinalLogger does not work in this browser"):(h.open("POST","https://app.cardinallab.com/api/logs"),h.setRequestHeader("Content-Type","application/json;charset=UTF-8"),h.setRequestHeader("X-User-Id",e),h.setRequestHeader("X-Auth-Token",f),h.send(JSON.stringify(b)))};return g.log=h,g.project=a,g.user=e,g.token=f,g}}();
